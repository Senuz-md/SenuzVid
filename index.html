<!doctype html>
<html lang="si">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />

  <meta name="description" content="SenuzVid is a free online TikTok video downloader and MP3/MP4 converter." />
  <title>SenuzVid ‚Äì TikTok Video Downloader & MP3 Converter</title>

  <link rel="icon" href="https://files.catbox.moe/1dlcmm.jpg" type="image/png" />
  <link rel="apple-touch-icon" href="https://files.catbox.moe/lgzi2f.jpg" />

  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <style>
    :root {
      --ny-gold: #ffd700;
      --ny-orange: #f39c12;
      --bg-dark: #050505;
      --glass: rgba(15, 15, 25, 0.9);
      --border: rgba(255, 215, 0, 0.2);
    }

    .theme-red { --ny-gold: #ff4757; --ny-orange: #ff6b81; --border: rgba(255, 71, 87, 0.2); }
    .theme-purple { --ny-gold: #a55eea; --ny-orange: #8854d0; --border: rgba(165, 94, 234, 0.2); }
    .theme-blue { --ny-gold: #3498db; --ny-orange: #2980b9; --border: rgba(52, 152, 219, 0.2); }
    .theme-yellow { --ny-gold: #ffd700; --ny-orange: #f39c12; --border: rgba(255, 215, 0, 0.2); }

    * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }

    body {
      margin: 0; font-family: 'Outfit', sans-serif; background-color: var(--bg-dark); color: #fff;
      min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px 10px;
      overflow-x: hidden; position: relative; transition: 0.5s;
    }

    /* ‚ò∞ Hamburger Menu Icon */
    .nav-header {
      position: fixed; top: 0; left: 0; width: 100%; padding: 20px;
      display: flex; justify-content: flex-end; z-index: 1000;
    }
    .menu-btn {
      font-size: 24px; color: var(--ny-gold); cursor: pointer; transition: 0.3s;
      background: rgba(255,255,255,0.05); width: 45px; height: 45px;
      display: flex; align-items: center; justify-content: center; border-radius: 12px;
    }

    /* üì± Side Menu Drawer */
    .side-menu {
      position: fixed; top: 0; right: -300px; width: 280px; height: 100%;
      background: rgba(10, 10, 15, 0.98); backdrop-filter: blur(20px);
      z-index: 1001; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      border-left: 1px solid var(--border); padding: 60px 25px;
    }
    .side-menu.active { right: 0; }
    .close-btn { position: absolute; top: 20px; left: 20px; font-size: 20px; cursor: pointer; color: #fff; }

    .menu-title { font-size: 14px; text-transform: uppercase; letter-spacing: 2px; color: #666; margin-bottom: 20px; }
    
    .theme-option {
      display: flex; align-items: center; gap: 15px; padding: 12px;
      border-radius: 12px; cursor: pointer; transition: 0.3s; margin-bottom: 8px;
      border: 1px solid transparent;
    }
    .theme-option:hover { background: rgba(255,255,255,0.05); border-color: var(--border); }
    .color-dot { width: 15px; height: 15px; border-radius: 50%; }

    /* Overlay */
    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); z-index: 999; display: none;
    }
    .overlay.active { display: block; }

    /* Main Content Styling */
    .decor { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; pointer-events: none; }
    .blob { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.15; animation: float 10s infinite alternate; background: var(--ny-gold); }
    .b1 { width: 300px; height: 300px; top: -50px; left: -50px; }
    .b2 { background: var(--ny-orange); width: 250px; height: 250px; bottom: -50px; right: -50px; }
    @keyframes float { to { transform: translate(40px, 50px) scale(1.1); } }

    #particles-box { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
    .sparkle { position: absolute; background: var(--ny-gold); border-radius: 50%; opacity: 0.8; animation: glow linear forwards; }
    @keyframes glow { 0% { transform: scale(0); opacity: 1; } 100% { transform: scale(1.5) translateY(50px); opacity: 0; } }

    .app { width: 100%; max-width: 600px; z-index: 10; margin: auto; }
    .card {
      background: var(--glass); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
      border: 1px solid var(--border); border-radius: 35px; padding: 35px 20px;
      box-shadow: 0 40px 100px rgba(0, 0, 0, 0.9), 0 0 20px rgba(255, 215, 0, 0.1); 
      text-align: center;
    }

    /* üè∑Ô∏è Brand Name (No Space) */
    .brand { font-size: clamp(30px, 9vw, 45px); font-weight: 800; margin: 0; display: flex; align-items: center; justify-content: center; gap: 8px; }
    .brand span { color: var(--ny-gold); text-shadow: 0 0 15px rgba(255, 215, 0, 0.4); }
    .brand i { font-size: 0.8em; color: #fff; }

    .sub { color: #aaa; font-size: 10px; letter-spacing: 4px; text-transform: uppercase; margin: 8px 0 25px 0; font-weight: 600; }

    .ny-badge {
        display: inline-flex; align-items: center; gap: 8px; background: rgba(255, 215, 0, 0.1);
        padding: 10px 20px; border-radius: 50px; border: 1px solid var(--border);
        margin-bottom: 25px; color: var(--ny-gold); font-size: 12px; font-weight: 600; max-width: 95%;
    }

    .box {
      background: rgba(0,0,0,0.6); border-radius: 18px; padding: 5px; border: 2px solid var(--border);
      display: flex; align-items: center; gap: 5px; margin-bottom: 15px; position: relative;
    }
    .input { flex: 1; background: transparent; border: none; padding: 12px; color: #fff; font-size: 15px; width: 100%; }
    
    .paste-btn {
      background: transparent; color: #888; border: none; font-size: 18px;
      cursor: pointer; padding: 0 10px; transition: 0.3s; display: flex; align-items: center;
    }
    .paste-btn:hover { color: var(--ny-gold); transform: scale(1.1); }

    .get { background: var(--ny-gold); color: #000; border: none; padding: 0 22px; height: 48px; border-radius: 14px; font-weight: 800; cursor: pointer; flex-shrink: 0; }

    .preview { background: rgba(255,255,255,0.04); border-radius: 25px; padding: 15px; border: 1px solid var(--border); display: none; animation: slideUp 0.5s ease; margin-top: 10px; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .v-flex { display: flex; flex-direction: column; gap: 15px; align-items: center; }
    .v-img { width: 110px; aspect-ratio: 9/16; border-radius: 12px; object-fit: cover; border: 1.5px solid var(--ny-gold); }
    .v-info { flex: 1; width: 100%; }
    .v-title { font-size: 13px; font-weight: 700; color: #fff; margin-bottom: 10px; line-height: 1.4; }

    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .btn-dl { background: rgba(255,255,255,0.08); border: 1px solid var(--border); color: #fff; padding: 12px; border-radius: 12px; font-size: 11px; font-weight: 700; cursor: pointer; transition: 0.3s; }
    .btn-dl:hover { background: var(--ny-gold); color: #000; }
    .btn-dl.mp3 { background: linear-gradient(45deg, var(--ny-gold), var(--ny-orange)); border: none; grid-column: span 2; color:#000; }

    .btn-qr { background: #fff; color: #000; grid-column: span 2; margin-top: 5px; border: none; font-weight: 800; }
    #qrcode-container { margin-top: 20px; display: none; padding: 15px; background: #fff; border-radius: 20px; border: 4px solid var(--ny-gold); }
    #qrcode { padding: 10px; display: inline-block; }
    .btn-dl-qr { margin-top: 15px; background: #27ae60; color: #fff; border: none; width: 100%; padding: 12px; border-radius: 12px; font-weight: 800; cursor: pointer; }

    .foot { margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 20px; font-size: 12px; color: #555; }
    .senuz { color: var(--ny-gold); font-weight: 700; }

    .music {
      position: fixed; bottom: 20px; right: 20px; width: 48px; height: 48px; border-radius: 50%;
      background: var(--ny-gold); color: #000; display: flex; justify-content: center; align-items: center;
      cursor: pointer; z-index: 100; font-size: 18px; border: none; box-shadow: 0 0 15px var(--ny-gold);
    }

    @media (min-width: 500px) {
      .v-flex { flex-direction: row; text-align: left; }
      .v-img { width: 130px; }
    }
  </style>
</head>
<body class="theme-yellow">

  <header class="nav-header">
    <div class="menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></div>
  </header>

  <div class="overlay" onclick="toggleMenu()"></div>

  <div class="side-menu" id="sideMenu">
    <div class="close-btn" onclick="toggleMenu()"><i class="fa-solid fa-xmark"></i></div>
    <p class="menu-title">Customize View</p>
    
    <div class="theme-option" onclick="setTheme('yellow')">
        <div class="color-dot" style="background:#ffd700"></div> <span>Gold Theme</span>
    </div>
    <div class="theme-option" onclick="setTheme('blue')">
        <div class="color-dot" style="background:#3498db"></div> <span>Blue Theme</span>
    </div>
    <div class="theme-option" onclick="setTheme('purple')">
        <div class="color-dot" style="background:#a55eea"></div> <span>Purple Theme</span>
    </div>
    <div class="theme-option" onclick="setTheme('red')">
        <div class="color-dot" style="background:#ff4757"></div> <span>Red Theme</span>
    </div>
  </div>

  <div class="decor"><div class="blob b1"></div><div class="blob b2"></div></div>
  <div id="particles-box"></div>

  <div class="app">
    <div class="card">
      <h1 class="brand"><i class="fa-brands fa-tiktok"></i>Senuz<span>Vid</span></h1>
      <p class="sub">Premium Tiktok Downloader</p>

      <div class="ny-badge">
        <i class="fa-solid fa-circle-check"></i>
        <span>Fast, Secure & Unlimited Downloads</span>
      </div>

      <div class="box">
        <input id="url" class="input" placeholder="Paste TikTok link here..." autocomplete="off">
        <button class="paste-btn" id="pasteBtn" title="Paste from clipboard">
            <i class="fa-regular fa-clipboard"></i>
        </button>
        <button id="get" class="get">GET</button>
      </div>

      <div id="loading" style="font-size:11px; color:var(--ny-gold); margin-bottom:10px;"></div>

      <div id="preview" class="preview">
        <div class="v-flex">
          <img id="thumb" class="v-img" src="" alt="">
          <div class="v-info">
            <p id="title" class="v-title"></p>
            <div class="grid">
              <button class="btn-dl" onclick="dl('1080p')">1080p FHD</button>
              <button class="btn-dl" onclick="dl('720p')">720p HD</button>
              <button class="btn-dl" onclick="dl('480p')">480p</button>
              <button class="btn-dl" onclick="dl('360p')">360p</button>
              <button class="btn-dl mp3" onclick="dl('audio')">DOWNLOAD MP3</button>
              <button class="btn-dl btn-qr" onclick="genQR()"><i class="fa-solid fa-qrcode"></i> GENERATE SCAN QR</button>
            </div>
          </div>
        </div>
        
        <div id="qrcode-container">
          <p style="color:#000; font-weight:800; font-size:10px; margin-bottom:5px; text-transform:uppercase;">Scan to watch</p>
          <center><div id="qrcode"></div></center>
          <button class="btn-dl-qr" onclick="downloadQR()"><i class="fa-solid fa-download"></i> DOWNLOAD QR IMAGE</button>
        </div>
      </div>

      <div class="foot">·¥ò·¥è·¥°·¥á Ä·¥Ö  ô è‚îã<span class="senuz">¬© Íú±·¥á…¥·¥ú·¥¢ ‚ëâ„ÄÜ</span></div>
    </div>
  </div>

  <button id="musicToggle" class="music"><i class="fa-solid fa-music"></i></button>
  <audio id="player" loop><source src="https://files.catbox.moe/e502gt.mp3" type="audio/mpeg"></audio>

  <script>
    document.getElementById('pasteBtn').addEventListener('click', async () => {
        try {
            const text = await navigator.clipboard.readText();
            document.getElementById('url').value = text;
        } catch (err) {
            console.error('Failed to read clipboard contents: ', err);
        }
    });

    function toggleMenu() {
      document.getElementById('sideMenu').classList.toggle('active');
      document.querySelector('.overlay').classList.toggle('active');
    }

    function setTheme(t) { 
      document.body.className = 'theme-' + t; 
      toggleMenu();
    }

    function createSparkle() {
      const box = document.getElementById('particles-box');
      const sparkle = document.createElement('div');
      sparkle.classList.add('sparkle');
      const size = Math.random() * 5 + 2;
      sparkle.style.left = Math.random() * 100 + '%';
      sparkle.style.top = Math.random() * 100 + '%';
      sparkle.style.width = size + 'px';
      sparkle.style.height = size + 'px';
      sparkle.style.animationDuration = Math.random() * 2 + 1 + 's';
      box.appendChild(sparkle);
      setTimeout(() => { sparkle.remove(); }, 2000);
    }
    setInterval(createSparkle, 150);

    const API = "https://senuzvid-backend-5f903ce3cfc8.herokuapp.com";
    let currentUrl = "";

    function isTikTok(url) { return url.includes('tiktok.com') || url.includes('vm.tiktok'); }

    document.getElementById('get').addEventListener('click', async () => {
      const val = document.getElementById('url').value.trim();
      if(!val || !isTikTok(val)) return alert("Invaild Tiktok Link !");
      
      currentUrl = val;
      const btn = document.getElementById('get');
      const load = document.getElementById('loading');
      btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
      load.innerText = "Processing...";
      document.getElementById('qrcode-container').style.display = 'none';

      try {
        const res = await fetch(`${API}/api/details?url=${encodeURIComponent(val)}`);
        const data = await res.json();
        document.getElementById('thumb').src = data.thumbnail;
        document.getElementById('title').innerText = data.title;
        document.getElementById('preview').style.display = 'block';
        load.innerText = "";
      } catch(e) { load.innerText = "Error!"; }
      finally { btn.innerText = "GET"; }
    });

    function dl(q) {
      if(!currentUrl) return;
      window.open(`${API}/api/download?url=${encodeURIComponent(currentUrl)}&quality=${q}`, '_blank');
    }

    function genQR() {
      if(!currentUrl || !isTikTok(currentUrl)) return alert("Invalid TikTok Link!");
      const qrCont = document.getElementById('qrcode-container');
      const qrDiv = document.getElementById('qrcode');
      qrDiv.innerHTML = "";
      qrCont.style.display = 'block';
      new QRCode(qrDiv, {
        text: currentUrl,
        width: 180,
        height: 180,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
      });
      qrCont.scrollIntoView({ behavior: 'smooth' });
    }

    function downloadQR() {
      const canvas = document.querySelector("#qrcode canvas");
      if (!canvas) return;
      const finalCanvas = document.createElement('canvas');
      finalCanvas.width = canvas.width + 40;
      finalCanvas.height = canvas.height + 40;
      const ctx = finalCanvas.getContext('2d');
      ctx.fillStyle = "#ffffff";
      ctx.fillRect(0, 0, finalCanvas.width, finalCanvas.height);
      ctx.drawImage(canvas, 20, 20);
      const link = document.createElement("a");
      link.download = "SenuzVid-QR.png";
      link.href = finalCanvas.toDataURL("image/png");
      link.click();
    }

    const mBtn = document.getElementById('musicToggle');
    const audio = document.getElementById('player');
    mBtn.addEventListener('click', () => {
      if(audio.paused) { audio.play(); mBtn.innerHTML = '<i class="fa-solid fa-pause"></i>'; }
      else { audio.pause(); mBtn.innerHTML = '<i class="fa-solid fa-music"></i>'; }
    });
  </script>
</body>
</html>
